\ProvidesPackage{report-zh}[2024/03/27 Custom style for Chinese reports]

%% ============================================
%% Document structure and layout packages
%% ============================================
\RequirePackage{geometry}
\RequirePackage{fancyhdr}
\RequirePackage{titling}
\RequirePackage{titlesec}
\RequirePackage{enumitem}
\RequirePackage{tocloft}

%% ============================================
%% Math and graphics support
%% ============================================
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{graphicx}
\RequirePackage{tikz}

%% ============================================
%% Table and figure enhancements
%% ============================================
\RequirePackage{booktabs}
\RequirePackage{subcaption}
\RequirePackage{multirow}

%% ============================================
%% Text structure and content organization
%% ============================================
\RequirePackage{multicol}
\RequirePackage{listings}

%% ============================================
%% Bibliography and citation support
%% ============================================
\RequirePackage[numbers]{natbib}
\RequirePackage{bibentry}

%% ============================================
%% Hyperlink and PDF properties
%% ============================================
\RequirePackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=blue,
  filecolor=blue,
  urlcolor=blue,
  citecolor=blue
}

%% ============================================
%% Chinese language support
%% ============================================
\RequirePackage{ctex}
\setCJKmainfont{Songti SC} % Main Chinese font (Songti)
\setCJKsansfont{Lantinghei TC} % Sans-serif Chinese font
% \setCJKmonofont{Maple Mono NF CN} % Monospaced Chinese font (uncomment if needed)

%% ============================================
%% Page geometry and layout
%% ============================================
\geometry{a4paper, margin=1in} % Standard A4 paper with 1-inch margins

%% ============================================
%% Section formatting
%% ============================================
\titleformat{\section}
{\normalfont\Large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}
{\normalfont\large\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}
{\normalfont\normalsize\bfseries}{\thesubsubsection}{1em}{}

%% ============================================
%% Title formatting
%% ============================================
\renewcommand{\maketitle}{
  \begin{center}
    \LARGE\bfseries\thetitle
  \end{center}
  \vspace{1em}
}

%% ============================================
%% Header and footer configuration
%% ============================================
\pagestyle{fancy}
\fancyhf{} % Clear all header and footer fields
\renewcommand{\headrulewidth}{0.4pt} % Add header rule
\fancyhead[L]{\small\thetitle}
\fancyhead[R]{\small\theauthor}
\fancyfoot[C]{\thepage} % Page number in center of footer

\fancypagestyle{plain}{% Also apply to the first page
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
  \fancyfoot[C]{\thepage}
}

%% ============================================
%% Figure and table settings
%% ============================================
\renewcommand{\figurename}{图}
\renewcommand{\tablename}{表}
\captionsetup{font=small, labelfont=bf}

%% ============================================
%% Bibliography style settings
%% ============================================
\renewcommand{\bibname}{参考文献}

%% ============================================
%% Abstract environment
%% ============================================
\renewenvironment{abstract}{%
  \noindent\textbf{摘要：}
}{%
  \vskip 0.5cm
}

%% ============================================
%% Custom environments
%% ============================================
\newenvironment{weekplan}{%
  \noindent\textbf{下周计划：}
  \begin{enumerate}[leftmargin=2em]
    }{%
  \end{enumerate}
}

%% ============================================
%% Default metadata
%% ============================================
\title{周报}
\author{}
\date{\today}
